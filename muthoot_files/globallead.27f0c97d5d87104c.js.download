"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[2815],{19213:function(e,t,r){r.r(t),r.d(t,{default:function(){return b}});var a=r(59499),u=r(67294),n=r(74555),o=r(45697),c=r.n(o),s=r(1835),i=r(82492),p=r.n(i),f=r(69624),l=r(59022),g=r(11163),_=r(95501),d=function(e){return function(t){t({type:_.in,data:e})}},y=r(63247),h=r(85893);function m(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,a)}return r}function v(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?m(Object(r),!0).forEach((function(t){(0,a.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):m(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var O=function(e){var t=(0,g.useRouter)(),r=(0,u.useRef)();if(r.current=(0,y.ap)(),e.globalData.isApp)return(0,h.jsx)(h.Fragment,{});var a=(0,n.I0)(),o=e.isAuthenticated,c=e.isModalOpen,i=e.leadParams,_=void 0===i?{}:i,m=e.layoutData,O=void 0===m?{}:m,b=(0,n.v9)((function(e){return e.leadFormStatus.leadformDefaultData})),P=(0,u.useRef)(b),j=(0,u.useRef)({leadParams:v({page_name:e.pageName,lead_type:"auto_popup"},_),layoutData:v({},O)});(0,u.useEffect)((function(){P.current=b}),[b]),(0,u.useEffect)((function(){j.current={leadParams:v({page_name:e.pageName,lead_type:"auto_popup"},_),layoutData:v({},O)}}),[O,_,e.pageName]);var w=(0,u.useRef)(c),D=(0,u.useRef)(o);return(0,u.useEffect)((function(){D.current=o,w.current=c}),[c,o]),(0,u.useEffect)((function(){a(d(j.current))}),[t.asPath]),(0,u.useEffect)((function(){a(d(j.current));var e=null,u=r.current?30:45,n=new URLSearchParams(window.location.search),o=n.has("popup")&&n.get("popup"),c=n.has("delay")&&n.get("delay")||0;if("true"===o){var i=n.has("close")&&n.get("close"),g=n.has("l_course_tag")&&1*n.get("l_course_tag")||n.has("course_tag")&&1*n.get("course_tag"),_=n.has("l_city")&&1*n.get("l_city")||n.has("city")&&1*n.get("city"),y=0;g&&(y=n.has("l_course_tag_fix")&&1*n.get("l_course_tag_fix")||n.has("course_tag_fix")&&1*n.get("course_tag_fix")),c=c<u?1e3*c:0;var h={};g&&(h.course_tag=g),_&&(h.city=_),y&&(h.course_tag_fix=y);var m="/reviews/[review]"===t.route||"/college-compare"===t.route?"click_auto_popup":"popup_true";e=setTimeout((function(){if("open"!==w.current){j.current.leadParams.lead_type=m;var e=p()({},P.current,j.current);"0"===i&&a((0,l._x)(!0)),a((0,f.iX)({source:"POPUP",fields:h})),a((0,f.Me)(e))}}),c)}else c=1e3*u,e=setTimeout((function(){if("closed"!==(0,s.zt)("ldCookie")&&!D.current&&"open"!==w.current){j.current.leadParams.lead_type="auto_popup";var e=p()({},P.current,j.current);a((0,f.Me)(e))}}),c);return function(){clearTimeout(e)}}),[]),(0,h.jsx)(h.Fragment,{})};O.propTypes={pageName:c().string.isRequired,isAuthenticated:c().bool,isModalOpen:c().string};var b=(0,n.$j)((function(e){return{isAuthenticated:!!e.authentication.token,isModalOpen:e.popupStatus.status,globalData:e.globalData}}))(O)},79234:function(e,t,r){r.r(t),r.d(t,{default:function(){return a.default}});var a=r(19213)}}]);