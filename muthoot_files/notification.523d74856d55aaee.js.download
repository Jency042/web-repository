"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[71599],{67079:function(t,e,n){n.r(e),n.d(e,{default:function(){return D}});var i=n(50029),o=n(92777),r=n(82262),s=n(10748),a=n(81531),c=n(63553),u=n(37247),f=n(87794),l=n.n(f),p=n(67294),h=n(41609),d=n.n(h),v=n(39786),m=n(5152),g=n.n(m),b=n(74555),y=n(89569),k=n(55207),S=n(72977),I=n(95501),C=function(t){return function(e){e({type:I.uF,data:t})}},R=n(85893);function w(t){var e=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,i=(0,u.Z)(t);if(e){var o=(0,u.Z)(this).constructor;n=Reflect.construct(i,arguments,o)}else n=i.apply(this,arguments);return(0,c.Z)(this,n)}}var E=g()((function(){return n.e(1410).then(n.bind(n,4875))}),{loadableGenerated:{webpack:function(){return[4875]}}}),j=g()((function(){return n.e(69871).then(n.bind(n,80044))}),{loadableGenerated:{webpack:function(){return[80044]}}}),x=g()((function(){return n.e(5989).then(n.bind(n,54271))}),{loadableGenerated:{webpack:function(){return[54271]}}}),P=function(t){(0,a.Z)(n,t);var e=w(n);function n(t){var i;return(0,o.Z)(this,n),(i=e.call(this,t)).state={items:[]},i.notificationRef=p.createRef(),i.isSaPage=t.isSaPage||!1,i.isSaHomePage=t.isSaPage&&t.isSaHomePage||!1,i.notificationRequestSend=i.notificationRequestSend.bind((0,s.Z)(i)),i.logClickImpression=i.logClickImpression.bind((0,s.Z)(i)),i}return(0,r.Z)(n,[{key:"avoidCSR",value:function(){var t=this;this.setState({items:this.props.globalNotificationData||[]},(function(){t.notificationRef.current&&t.observer.observe(t.notificationRef.current)}))}},{key:"componentDidMount",value:function(){if(d()(this.props.globalNotificationData)||this.props.isServer){var t=d()(this.props.notificationData)?{}:this.props.notificationData;this.notificationRequestSend(t)}else this.avoidCSR();this.elementInViewport()}},{key:"componentDidUpdate",value:function(t,e){t.notificationData!==this.props.notificationData&&(this.props.notificationAction({}),d()(this.props.globalNotificationData)?this.notificationRequestSend(this.props.notificationData):this.avoidCSR())}},{key:"componentWillUnmount",value:function(){this.props.notificationAction({})}},{key:"notificationRequestSend",value:function(){var t=(0,i.Z)(l().mark((function t(e){var n,i,o,r=this;return l().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return(n=JSON.parse(e)).url=window.location.href,this.isSaPage&&(n.notification_type="SA"),i=btoa(JSON.stringify(n)),o={},t.next=7,(0,k.v6o)(i);case 7:o=t.sent,this.props.notificationAction(o),"SUCCESS"===o.status&&this.setState({items:o.data||[]},(function(){r.notificationRef.current&&r.observer.observe(r.notificationRef.current)}));case 10:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}()},{key:"elementInViewport",value:function(){var t=this;this.observer=new IntersectionObserver((function(e){e.forEach((function(e){if(e.isIntersecting&&Array.isArray(t.state.items)){var n=t.state.items.map((function(t){return t._id.$oid}));t.isSaPage?(0,k.B0L)({notificationIds:n}):(0,k.Cwe)({notificationIds:n}),t.observer.unobserve(e.target)}}))}),{root:null,rootMargin:"0px",threshold:.25})}},{key:"logClickImpression",value:function(t){this.isSaPage?(0,k.aZZ)({notificationId:t}):(0,k._po)({notificationId:t})}},{key:"render",value:function(){var t=this.state.items,e=t.length;return(0,R.jsx)("div",{ref:this.notificationRef,children:(0,R.jsxs)(v.Z,{whenVisible:!0,children:[(0,R.jsx)(S.Hi,{children:e>0?(0,R.jsx)(R.Fragment,{children:this.isSaHomePage?(0,R.jsxs)(R.Fragment,{children:[" ",(0,R.jsx)(x,{items:t,logClickImpression:this.logClickImpression,page:this.props.page})," "]}):(0,R.jsx)(E,{items:t,logClickImpression:this.logClickImpression,csmData:this.props.csmData,gaEvent:this.props.gaEvent||""})}):null}),(0,R.jsx)(S.ij,{children:e>0?(0,R.jsx)(R.Fragment,{children:this.isSaHomePage?(0,R.jsxs)(R.Fragment,{children:[" ",(0,R.jsx)(x,{items:t,logClickImpression:this.logClickImpression,mobile:!0,page:this.props.page})," "]}):(0,R.jsx)(j,{items:t,logClickImpression:this.logClickImpression,csmData:this.props.csmData,gaEvent:this.props.gaEvent||""})}):null})]})})}}]),n}(p.PureComponent);P.defaultProps={isSaHomePage:!1,isSaPage:!1,page:""};var D=(0,b.$j)(null,(function(t){return{notificationAction:(0,y.DE)(C,t)}}))(P)},39786:function(t,e,n){function i(){return i=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},i.apply(this,arguments)}n.d(e,{Z:function(){return a}});var o=n(67294),r=o.useLayoutEffect;function s(){return!0}var a=function(t){var e=(0,o.useRef)(null),n=(0,o.useReducer)(s,!1),a=n[0],c=n[1],u=t.noWrapper,f=t.ssrOnly,l=t.whenIdle,p=t.whenVisible,h=t.promise,d=t.on,v=void 0===d?[]:d,m=t.children,g=t.didHydrate,b=function(t,e){if(null==t)return{};var n,i,o={},r=Object.keys(t);for(i=0;i<r.length;i++)n=r[i],e.indexOf(n)>=0||(o[n]=t[n]);return o}(t,["noWrapper","ssrOnly","whenIdle","whenVisible","promise","on","children","didHydrate"]);r((function(){e.current.hasChildNodes()||c()}),[]),(0,o.useEffect)((function(){a&&g&&g()}),[a]),(0,o.useEffect)((function(){if(!f&&!a){var t=e.current,n=[];if(h&&h.then(c,c),p){var i=u?t:t.firstElementChild;if(!i||"undefined"===typeof IntersectionObserver)return c();var o=new IntersectionObserver((function(t){t.forEach((function(t){(t.isIntersecting||t.intersectionRatio>0)&&c()}))}),"object"===typeof p?p:{rootMargin:"250px"});o.observe(i),n.push((function(){o.disconnect()}))}if(l)if("undefined"!==typeof requestIdleCallback){var r=requestIdleCallback(c,{timeout:500});n.push((function(){cancelIdleCallback(r)}))}else{var s=setTimeout(c,2e3);n.push((function(){clearTimeout(s)}))}return[].concat(v).forEach((function(e){t.addEventListener(e,c,{once:!0,passive:!0}),n.push((function(){t.removeEventListener(e,c,{})}))})),function(){n.forEach((function(t){t()}))}}}),[a,v,f,l,p,g,h,u]);var y="string"===typeof u?u:"div";return a?u?m:(0,o.createElement)(y,i({ref:e,style:{display:"contents"}},b),m):(0,o.createElement)(y,i({},b,{ref:e,suppressHydrationWarning:!0,dangerouslySetInnerHTML:{__html:""}}))}}}]);